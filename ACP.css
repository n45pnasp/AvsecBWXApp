:root{
  --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#94a3b8;
  --border:rgba(255,255,255,.12); --card:#0b1324;
  --accent:#7c9bff; --accent-2:#60a5fa; --ok:#22c55e; --danger:#ef4444;
  --fs-base: clamp(14px, 1.6vw, 16px);
  --fs-sm:   clamp(12px, 1.3vw, 14px);
  --fs-lg:   clamp(18px, 2vw, 22px);
}

/* ===== App Bar ===== */
.app-bar{
  position:sticky; top:0; inset-inline:0; z-index:100;
  display:flex; align-items:center; gap:10px;
  height:56px; padding:0 14px;
  background:var(--panel); color:var(--text);
  border-bottom:1px solid var(--border);
  box-shadow:0 6px 20px rgba(0,0,0,.18);
}
.app-title{ font-size:var(--fs-lg); font-weight:500; letter-spacing:.3px; margin:0; user-select:none }
.back-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:44px; height:44px; flex:0 0 auto; background:transparent;
  border:none; color:var(--text); border-radius:10px; cursor:pointer;
  text-decoration:none; transition:background .12s ease, transform .08s ease;
}
.back-btn:hover{ background:rgba(255,255,255,.06) }
.back-btn:active{ background:rgba(0,0,0,.25); transform:translateY(1px) }
.back-btn:focus-visible{ outline:2px solid rgba(255,255,255,.4); outline-offset:2px }
.back-btn svg, .back-btn svg *{ stroke:currentColor; stroke-width:2.2; fill:none; stroke-linecap:round; stroke-linejoin:round }

/* ===== Base ===== */
*{ box-sizing:border-box }
html,body{ margin:0; padding:0 }
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  font-size:var(--fs-base);
  background:var(--bg); color:var(--text);
  -webkit-tap-highlight-color:transparent;
}
.container{
  width:min(100%,1000px); margin:24px auto; padding:0 clamp(12px,3vw,20px);
  display:grid; gap:clamp(12px,2.5vw,18px); padding-top:8px;
}
.card{
  background:var(--card); border:1px solid var(--border);
  border-radius:16px; padding:clamp(12px,2.4vw,16px);
  box-shadow:0 10px 30px rgba(0,0,0,.25);
}
.card-title{ font-weight:700; margin-bottom:12px; font-size:clamp(16px,2vw,20px) }

/* ===== Form ===== */
.row-2{ display:grid; grid-template-columns:1fr 1fr; gap:clamp(8px,2vw,12px); }
.field{ display:grid; gap:8px; margin:12px 0 }
input, textarea{
  width:100%; background:#0b1324; color:var(--text);
  border:1px solid var(--border); border-radius:12px; padding:12px;
  font-size:var(--fs-base);
}

/* ===== Buttons ===== */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  background:#1f2937; color:#fff; border:1px solid var(--border);
  border-radius:12px; padding:12px; cursor:pointer; user-select:none;
  transition:filter .15s ease, transform .06s ease; text-align:center;
}
.btn:hover{ filter:brightness(1.05) }
.btn:active{ transform:translateY(1px) }
.btn.primary{ background:#2563eb; border-color:#1e40af }
.btn.full{ width:100% }
.btn.purple{
  background:linear-gradient(135deg,#6a5cff,#8a7bff);
  box-shadow:0 6px 16px rgba(106,88,255,.35);
}
.btn:disabled{ opacity:.55; cursor:not-allowed }

/* Tombol scan ala boardingpass */
.qr-card{ padding:0; }
.qr-btn{
  width:100%; display:flex; flex-direction:row; align-items:center; justify-content:center;
  gap:12px; background:linear-gradient(135deg,var(--accent),var(--accent-2));
  border:1px solid rgba(255,255,255,.12); border-radius:16px;
  padding:14px 16px; font-weight:600; font-size:16px; cursor:pointer; color:#fff;
  box-shadow:0 6px 16px rgba(106,88,255,.35); transition:filter .15s ease, transform .1s ease; text-align:left;
}
.qr-btn:hover{ filter:brightness(1.08) }
.qr-btn:active{ transform:translateY(1px) }
.qr-btn img{ width:28px; height:28px; filter:invert(1); }
.qr-btn small{ color:rgba(255,255,255,.85); font-weight:400; display:block; }

/* Info card untuk hasil scan */
.info-card{ display:grid; gap:12px; }
.info-name{ display:grid; gap:4px; padding-bottom:8px; border-bottom:1px solid var(--border); }
.info-pair{ display:grid; grid-template-columns:1fr 1fr; gap:12px; padding-top:8px; }
.info-field{ display:grid; gap:4px; }
.info-label{ font-size:var(--fs-sm); color:var(--muted); }
.info-value{ font-weight:600; }

.hidden{ display:none !important }

/* ===== Overlay ala lb_all ===== */
.overlay{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.45); backdrop-filter:blur(2px); z-index:9999; }
.sheet{
  position:relative;
  display:grid; grid-template-columns:48px 1fr; align-items:center; gap:12px;
  background:var(--card); border:1px solid var(--border);
  border-radius:16px; padding:16px 18px; width:min(520px,92vw);
  box-shadow:0 16px 40px rgba(0,0,0,.45);
  animation:pop .18s ease-out both;
}
.icon-x{
  position:absolute; top:10px; right:10px;
  width:28px; height:28px; display:grid; place-items:center;
  color:var(--muted);
  background:transparent; border:none; padding:0; cursor:pointer;
  transition:transform .08s ease, color .12s ease, opacity .12s ease;
}
.icon-x:hover{ color:#fff; transform:scale(1.06); }
.icon-x:active{ transform:scale(.94); }
.icon-x svg{ display:block; }
.icon{ width:42px; height:42px; border-radius:50%; position:relative; }
.icon.spinner,.icon.loading{ border:5px solid rgba(255,255,255,.15); border-top-color:var(--accent); animation:spin .9s linear infinite; }
.icon.ok{ background:rgba(34,197,94,.12); border:2px solid var(--ok); }
.icon.ok::after{ content:""; position:absolute; left:11px; top:8px; width:12px; height:20px; border:solid var(--ok); border-width:0 4px 4px 0; transform:rotate(45deg); border-radius:2px; }
.icon.err{ background:rgba(239,68,68,.12); border:2px solid var(--danger); }
.icon.err::before,.icon.err::after{ content:""; position:absolute; left:19px; top:8px; width:4px; height:24px; background:var(--danger); border-radius:2px; }
.icon.err::after{ transform:rotate(90deg); }
.icon.stop{ background:rgba(239,68,68,.12); border:2px solid var(--danger); display:flex; align-items:center; justify-content:center; font-size:28px; }
.icon.stop::before{ content:'\1F6D1'; }
.texts .title{ font-weight:700; font-size:clamp(14px,1.6vw,16px); }
.texts .desc{ color:var(--muted); font-size:clamp(12px,1.4vw,14px); }

@keyframes spin{ to{ transform:rotate(360deg); } }
@keyframes pop{ from{ transform:translateY(6px) scale(.98); opacity:0 } to{ transform:none; opacity:1 } }

/* ===== Modal Gambar ===== */
.img-link{ color:var(--accent-2); text-decoration:underline; cursor:pointer; }
.photo-sheet{
  position:relative; background:var(--card); border:1px solid var(--border);
  border-radius:16px; padding:10px; max-width:min(92vw,720px); max-height:92vh;
  box-shadow:0 16px 40px rgba(0,0,0,.45);
}
.photo-sheet img{ display:block; max-width:100%; max-height:calc(92vh - 40px); border-radius:12px; }
