:root{
  /* ===== Theme (disatukan) ===== */
  --bg:#0b1220;              /* Background gelap gradasi */
  --panel:#111827;           /* App bar / panel */
  --card:#111827;            /* Kartu & container */
  --text:#e5e7eb;            /* Teks utama */
  --muted:#94a3b8;           /* Teks sekunder */
  --border:rgba(148,163,184,.20);

  --accent:#A855F7;          /* Ungu cerah */
  --accent-2:#6B21A8;        /* Ungu gelap */
  --danger:#ef4444;          /* Merah (error/offline) */
  --ok:#22c55e;              /* Hijau (sukses) */

  --radius:18px;             /* Radius konsisten */
  --shadow:0 6px 16px rgba(0,0,0,.30);
}

/* ==== Reset ringkas ==== */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
html,body{height:100%}
body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
  color: var(--text);
  background: linear-gradient(180deg,#0b1220,#0f172a);
  min-height: 100dvh;
  -webkit-tap-highlight-color: transparent;
  padding: 20px;
}

/* =========================
   APP BAR
   ========================= */
.app-bar{
  position: sticky; top: 0; z-index: 40;
  display: flex; align-items: center; gap: 10px;
  height: 56px; background: var(--panel); color: var(--text);
  border-bottom: 1px solid var(--border);
  padding: 0 14px; margin: -20px -20px 16px;
}
.back-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:44px; height:44px; background:transparent; border:none;
  color:var(--text); cursor:pointer; border-radius:10px;
  transition:background .12s ease, transform .1s ease;
  text-decoration:none;
}
.back-btn svg{display:block;stroke:currentColor;stroke-width:2.2}
.back-btn:hover{background:rgba(255,255,255,.06)}
.back-btn:active{background:rgba(0,0,0,.25);transform:translateY(1px)}
.back-btn:focus-visible{outline:3px solid #a855f733; outline-offset:2px}
.app-title{font-size:22px;font-weight:600;letter-spacing:.2px;margin:0;user-select:none}

/* =========================
   HEADER CARD
   ========================= */
.header-card{
  position:relative; background:var(--card);
  border:1px solid var(--border); border-radius:var(--radius);
  padding:18px 20px 16px; box-shadow: var(--shadow);
  margin-bottom:16px; display:flex; flex-direction:column; gap:14px;
}
.header-row{ display:flex; align-items:center; justify-content:space-between; gap:16px }
.header-title h2{
  margin:0; font-size: clamp(18px, 2.8vw, 24px); font-weight:800; letter-spacing:.2px;
}
.subdate{ color:var(--muted); margin-top:6px; font-size:14px }
.logo{
  width:64px; height:64px; object-fit:contain; border-radius:14px;
  border:1px solid var(--border); background:#0b1220; padding:6px;
}
.ident-list{ display:grid; gap:6px; font-size:15px }
.ident-line strong{ font-weight:700 }

/* =========================
   SECTION CHIP
   ========================= */
.sec{ margin-top:16px }
.section-chip{
  display:inline-block; font-weight:800; letter-spacing:.3px;
  border:1px solid var(--border); border-radius:999px;
  padding:8px 12px; background:#0b1220; margin-bottom:8px;
}
.chip-hbscp{ background:#0e1a34 }
.chip-pscp{ background:#162a3a }
.chip-pos1{ background:#1f2a34 }
.chip-patroli{ background:#1b2d2a }
.chip-malam{ background:#221e30 }

.subhead{ margin:6px 0 10px; color:var(--muted); font-size:14px }

/* =========================
   TABLE â€” dirapikan
   ========================= */
.table-wrap{ overflow:auto }
table{
  width:100%; border-collapse:separate; border-spacing:0; margin-top:0;
  border:1px solid var(--border); border-radius:14px; overflow:hidden;
  background: #0c1526;            /* sedikit beda dari card agar kontras */
}
th,td{ padding:12px 12px; text-align:left; vertical-align:middle }
th{
  position: sticky; top: 0; z-index: 1;
  background: linear-gradient(0deg, rgba(255,255,255,.02), rgba(255,255,255,.02)) , var(--panel);
  border-bottom: 1px solid var(--border);
  font-weight: 800; letter-spacing:.2px; font-size: 14px;
}
td{ border-bottom:1px solid var(--border); font-size: 14px }
table tr:last-child td{ border-bottom:none }

tbody tr:nth-child(odd){ background: rgba(255,255,255,0.02) }
tbody tr:hover{
  background: rgba(168,85,247,0.08);    /* highlight ungu lembut */
  outline: 0; transition: background .12s ease;
}

/* Badge kecil / status dalam tabel (opsional) */
.badge{
  display:inline-block; padding:.25rem .5rem; border-radius:999px;
  font-size:12px; border:1px solid var(--border); color:var(--text);
  background: rgba(255,255,255,.04);
}
.badge.ok{ border-color:#22c55e33; background:#0f2a1a; color:#bbf7d0 }
.badge.warn{ border-color:#f59e0b33; background:#2a220f; color:#fde68a }
.badge.err{ border-color:#ef444433; background:#2a1414; color:#fecaca }

/* =========================
   CATATAN
   ========================= */
.notes{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px; padding:12px 14px; margin-top:16px;
}
.note-line{ margin:6px 0; color:var(--muted) }
.note-line strong{ color:var(--text) }

/* =========================
   LOADING OVERLAY
   ========================= */
body.blur-bg > *:not(#loadingOverlay){
  filter: blur(5px); pointer-events:none; user-select:none; transition:filter .2s ease;
}
#loadingOverlay{
  position: fixed; inset: 0; display: none;
  align-items: center; justify-content: center;
  background: rgba(15,23,42,.55); z-index: 9999; backdrop-filter: blur(2px);
  padding: 16px;
}
#loadingOverlay .load-card{
  background: var(--card); border:1px solid var(--border); border-radius:16px;
  padding:16px 18px; width:min(420px,92vw);
  box-shadow:0 16px 40px rgba(0,0,0,.45);
  display:grid; grid-template-columns:56px 1fr auto; gap:14px; align-items:center;
}
#loadingOverlay .icon{
  width:48px; height:48px; border-radius:50%; display:inline-block; position:relative;
}
#loadingOverlay .icon.spinner{
  border:5px solid rgba(255,255,255,.15);
  border-top-color: var(--accent);
  animation: spin .9s linear infinite;
}
#loadingOverlay .icon.success{
  background: rgba(34,197,94,.12);
  border:2px solid var(--ok);
}
#loadingOverlay .icon.success::after{
  content:""; position:absolute;
  left:12px; top:10px;
  width:14px; height:24px;
  border: solid var(--ok);
  border-width:0 4px 4px 0;
  transform: rotate(45deg);
  border-radius:2px;
}
#loadingOverlay .icon.error{
  background: rgba(239,68,68,.12);
  border:2px solid var(--danger);
}
#loadingOverlay .icon.error::before,
#loadingOverlay .icon.error::after{
  content:""; position:absolute; left:22px; top:10px;
  width:4px; height:28px; background: var(--danger);
  border-radius:2px;
}
#loadingOverlay .icon.error::after{ transform: rotate(90deg); }

#loadingOverlay .texts{ display:grid; gap:6px }
#loadingOverlay .title{ font-weight:800; letter-spacing:.2px }
#loadingOverlay .desc{ color:var(--muted); font-size:14px }

@keyframes spin{ to{ transform:rotate(360deg) } }

/* =========================
   Alert Modal
   ========================= */
.modal-backdrop{ position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.6); z-index:50; }
.modal-backdrop.show{ display:grid; }
.modal{ width:min(92vw,360px); background:var(--card); border:1px solid var(--border); border-radius:14px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.45); animation:pop .2s ease-out both; }
.modal h3{ margin:0 0 6px; font-size:16px; }
.modal p{ margin:0; color:var(--muted); font-size:14px; }
.modal .actions{ display:flex; justify-content:flex-end; margin-top:14px; }
.modal .actions button{ background:var(--accent); border:none; color:#fff; padding:8px 14px; border-radius:10px; cursor:pointer; }
.modal .actions button:hover{ background:var(--accent-2); }
@keyframes pop{ from{opacity:0; transform:translateY(6px) scale(.98)} to{opacity:1; transform:none} }

/* =========================
   OFFLINE SHEET (seragam dgn tema)
   ========================= */
.net-sheet{
  position:fixed; left:0; right:0; bottom:0; z-index:9999;
  background:linear-gradient(0deg, rgba(239,68,68,.10), rgba(239,68,68,.10)), #7f1d1d;
  color:#fee2e2;
  border-top:1px solid #fecaca33;
  padding:12px 14px; display:none; gap:10px; align-items:center;
}
.net-sheet.show{ display:flex }
.net-dot{ width:10px; height:10px; border-radius:50%; background:#ef4444 }
.net-msg{ flex:1; font-size:14px; line-height:1.3 }
.net-act{ display:flex; gap:8px }
.net-btn{
  background:var(--accent); color:#fff; border:1px solid var(--accent-2);
  padding:8px 10px; border-radius:10px; cursor:pointer
}
.net-btn:hover{ background:var(--accent-2) }

/* =========================
   judul schedule
   ========================= */
/* Judul 3 baris */
.header-title .title-multi{
  margin: 0;
  font-weight: 800;
  line-height: 1.1;
  font-size: clamp(20px, 3.8vw, 28px);
  letter-spacing: .2px;
}
.header-title .title-multi span{
  display: block; /* setiap span tampil di baris baru */
}

/* Tanggal di bawah judul */
.subdate{
  color: var(--muted);
  margin-top: 6px;
  font-size: 14px;
}

/* Label Chief/Assistant Chief/Supervisor CCTV lebih menonjol */
.ident-list{ margin-top: 8px; display: grid; gap: 6px; }
.ident-line strong{
  text-transform: uppercase;
  font-weight: 800;
  font-size: clamp(14px, 2.7vw, 18px);
  letter-spacing: .3px;
}
/* Semua data dari Sheet otomatis bold */
span[id]{ font-weight: 700; }

/* =========================
   TOMBOL SALIN WA
   ========================= */
.app-title { flex: 1; }

.copy-card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:14px;
  margin-top:16px;
  box-shadow:var(--shadow);
}
.copy-actions{
  display:flex;
  gap:12px;
  align-items:center;
}
.copy-actions .icon-btn{
  flex:1;
  justify-content:center;
}

.icon-btn{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.5rem .75rem; border-radius:12px;
  background: linear-gradient(180deg, #0f172a, #0b1220);
  border:1px solid var(--border);
  color: var(--text); cursor:pointer; user-select:none;
  box-shadow: 0 2px 10px rgba(0,0,0,.25);
  transition: background .15s ease, border-color .15s ease, transform .08s ease;
}
.icon-btn:hover{
  background: linear-gradient(180deg, rgba(168,85,247,.16), rgba(168,85,247,.06));
  border-color: color-mix(in oklab, var(--accent) 40%, var(--border));
}
.icon-btn:active{ transform: translateY(1px); }
.icon-btn:focus-visible{
  outline: 3px solid color-mix(in oklab, var(--accent) 40%, transparent);
  outline-offset: 2px;
}

.icon-btn svg{
  display:block; stroke: currentColor; stroke-width: 2;
  fill: none;
}

/* Variasi warna halus untuk Pagi vs Malam */
.icon-btn#copyWaMorningBtn{
  border-color: rgba(168,85,247,.45);
  background:
    radial-gradient(120% 100% at 0% 0%, rgba(168,85,247,.20) 0%, transparent 55%),
    linear-gradient(180deg, #101826, #0b1220);
}
.icon-btn#copyWaMorningBtn:hover{
  background:
    radial-gradient(120% 100% at 0% 0%, rgba(168,85,247,.28) 0%, transparent 60%),
    linear-gradient(180deg, #121a2a, #0c1321);
}

.icon-btn#copyWaNightBtn{
  border-color: rgba(107,33,168,.5);
  background:
    radial-gradient(120% 100% at 100% 0%, rgba(107,33,168,.22) 0%, transparent 55%),
    linear-gradient(180deg, #0e1322, #0a0f1d);
}
.icon-btn#copyWaNightBtn:hover{
  background:
    radial-gradient(120% 100% at 100% 0%, rgba(107,33,168,.30) 0%, transparent 60%),
    linear-gradient(180deg, #10162a, #0b1120);
}

/* =========================
   Responsif
   ========================= */
@media (max-width: 480px){
  .app-title{ font-size:20px }
  .back-btn{ width:40px; height:40px }
  .header-title h2{ font-size:18px }
  .logo{ width:56px; height:56px }
  th, td{ padding:10px 12px; font-size:13.5px }

  .icon-btn { padding:.45rem .6rem; border-radius:10px; }
  .icon-btn span { font-size: 13px; }
}
