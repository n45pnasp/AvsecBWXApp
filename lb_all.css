:root{
  --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#94a3b8;
  --border:rgba(255,255,255,.12); --card:#0b1324;
  --accent:#7c9bff; --accent-2:#60a5fa; --ok:#22c55e; --danger:#ef4444;

  /* skala tipografi responsif */
  --fs-base: clamp(14px, 1.6vw, 16px);
  --fs-sm:   clamp(12px, 1.3vw, 14px);
  --fs-lg:   clamp(18px, 2vw, 22px);
}

/* APP BAR */
.app-bar{
  position: sticky; top: 0; inset-inline: 0; z-index: 100;
  display: flex; align-items: center; gap: 10px;
  height: 56px; padding: 0 14px;
  background: var(--panel); color: var(--text);
  border-bottom: 1px solid var(--border);
  box-shadow: 0 6px 20px rgba(0,0,0,.18);
}
.app-title{ font-size: var(--fs-lg); font-weight: 500; letter-spacing:.3px; margin:0; user-select:none }
.back-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:44px; height:44px; flex:0 0 auto; background:transparent; border:none; color:var(--text);
  border-radius:10px; cursor:pointer; text-decoration:none;
  transition: background .12s ease, transform .08s ease;
}
.back-btn:hover{ background: rgba(255,255,255,.06) }
.back-btn:active{ background: rgba(0,0,0,.25); transform: translateY(1px) }
.back-btn:focus-visible{ outline:2px solid rgba(255,255,255,.4); outline-offset:2px }
.back-btn svg, .back-btn svg *{ stroke:currentColor; stroke-width:2.2; fill:none; stroke-linecap:round; stroke-linejoin:round }

/* BASE */
*{ box-sizing:border-box }
html,body{ margin:0; padding:0 }
body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  font-size: var(--fs-base);
  background: var(--bg); color: var(--text);
  -webkit-tap-highlight-color: transparent;
}
.container{
  width: min(100%, 1000px);
  margin: 24px auto; padding: 0 clamp(12px, 3vw, 20px);
  display: grid; gap: clamp(12px, 2.5vw, 18px);
  padding-top:8px;
}
.card{
  background: var(--card); border:1px solid var(--border);
  border-radius:16px; padding: clamp(12px, 2.4vw, 16px);
  box-shadow:0 10px 30px rgba(0,0,0,.25);
}
.card-title{ font-weight:700; margin-bottom:12px; font-size: clamp(16px, 2vw, 20px) }

/* FORM BARIS ATAS */
.row-2{
  display:grid; grid-template-columns: 1fr 1fr;
  gap: clamp(8px, 2vw, 12px); margin-bottom:12px;
}
@media (max-width:560px){ .row-2{ grid-template-columns:1fr 1fr } }

.field{ display:grid; gap:8px; margin:12px 0 }
textarea, input[type="time"]{
  width:100%; background:#0b1324; color:var(--text);
  border:1px solid var(--border); border-radius:12px; padding:12px; font-size:var(--fs-base);
}

/* BUTTONS */
.btn, .btn-like{
  display:inline-flex; align-items:center; justify-content:center;
  background:#1f2937; color:#fff; border:1px solid var(--border);
  border-radius:12px; padding:12px; cursor:pointer; user-select:none;
  transition: filter .15s ease, transform .06s ease;
  text-align:center;
}
.btn:hover, .btn-like:hover{ filter:brightness(1.05) }
.btn:active, .btn-like:active{ transform:translateY(1px) }
.btn.primary{ background:#2563eb; border-color:#1e40af }
.btn:disabled{ opacity:.55; cursor:not-allowed }

/* Tombol waktu sebagai tombol; input time disembunyikan */
.btn-like{ position:relative }
.btn-like input[type="time"]{ position:absolute; inset:0; opacity:0; pointer-events:none }
#timeLabel{ pointer-events:none }

/* PREVIEW UPLOAD */
.upload-info{
  display:flex; gap:12px; align-items:center; margin-bottom:8px;
  padding:8px; border:1px dashed var(--border); border-radius:12px;
}
.upload-info img{
  width:64px; height:64px; object-fit:cover;
  border-radius:10px; border:1px solid var(--border);
}
.muted{ color:var(--muted); font-size:var(--fs-sm) }

/* TABEL 2 KOLOM */
.table-wrap{ overflow-x:auto }
.log-table{
  width:100%; border-collapse:separate; border-spacing:0;
  border:1px solid var(--border); border-radius:12px; overflow:hidden;
  table-layout: fixed;
}
.log-table .col-time{ width: 100px; }
.log-table .col-activity{ width:auto; }

.log-table th, .log-table td{
  padding:10px 12px; text-align:left; border-bottom:1px solid var(--border);
}
.log-table th{ background:#111827; white-space:nowrap }
.log-table tbody tr:nth-child(odd){ background:rgba(255,255,255,.02) }

/* Bungkus teks kegiatan agar tidak meluber layar */
.log-table td:nth-child(2){
  white-space: normal;
  overflow-wrap: anywhere;
  word-break: break-word;
}
.log-table tbody tr{ cursor: pointer } /* baris bisa di-tap */

/* OVERLAY / STATUS */
.overlay{
  position:fixed; inset:0; display:grid; place-items:center;
  background:rgba(0,0,0,.45); backdrop-filter:blur(2px); z-index:9999;
}
.sheet{
  display:grid; grid-template-columns:48px 1fr auto; align-items:center; gap:12px;
  background:var(--card); border:1px solid var(--border);
  border-radius:16px; padding:14px 16px; min-width:min(520px,92vw);
  animation:pop .18s ease-out both;
}
.icon{ width:42px; height:42px; border-radius:50%; position:relative }
.icon.spinner{ border:5px solid rgba(255,255,255,.15); border-top-color:var(--accent); animation:spin .9s linear infinite }
.icon.ok{ background:rgba(34,197,94,.12); border:2px solid var(--ok) }
.icon.ok::after{
  content:""; position:absolute; left:11px; top:8px; width:12px; height:20px;
  border:solid var(--ok); border-width:0 4px 4px 0; transform:rotate(45deg); border-radius:2px;
}
.icon.err{ background:rgba(239,68,68,.12); border:2px solid var(--danger) }
.icon.err::before,.icon.err::after{ content:""; position:absolute; left:19px; top:8px; width:4px; height:24px; background:var(--danger); border-radius:2px }
.icon.err::after{ transform:rotate(90deg) }
.texts .title{ font-weight:700 }
.texts .desc{ color:var(--muted); font-size:14px }
.close{
  appearance:none; border:1px solid var(--border); background:#111827; color:#fff;
  width:36px; height:36px; border-radius:10px; cursor:pointer;
}

/* TIME PICKER (Wheel Modal) */
#timeModal.overlay{ z-index:10000 }
.time-sheet{
  background:var(--card); border:1px solid var(--border); border-radius:16px;
  width:min(440px,92vw); padding:10px 12px 14px; box-shadow:0 16px 40px rgba(0,0,0,.45);
}
.time-header{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:8px }
.t-title{ font-weight:700 }
.t-btn{
  background:#1f2937; color:#fff; border:1px solid var(--border);
  padding:8px 12px; border-radius:10px; cursor:pointer;
}
.t-btn:hover{ filter:brightness(1.05) }

.wheels{
  position:relative;
  display:grid; grid-template-columns:1fr auto 1fr; align-items:center;
  gap:12px; padding:8px 4px;
}
.wheel{
  height:180px; /* 5 baris x 36px */
  overflow-y:auto; scroll-snap-type:y mandatory; -webkit-overflow-scrolling:touch;
  border:1px solid var(--border); border-radius:12px; background:#0b1324;
  touch-action: pan-y; user-select:none;
  overscroll-behavior: contain;          /* cegah bounce antar kontainer */
}
.wheel::-webkit-scrollbar{ width:0; height:0 }
.item{
  height:36px; display:flex; align-items:center; justify-content:center;
  font-size:20px; scroll-snap-align:center; color:var(--text);
}
.sep{ font-weight:700; font-size:22px; opacity:.9 }
.picker-highlight{
  pointer-events:none; position:absolute; left:4px; right:4px; top:50%; transform:translateY(-50%);
  height:36px; border:1px solid var(--accent-2); border-radius:10px;
}

/* PHOTO MODAL */
.photo-sheet{
  position:relative; background:var(--card); border:1px solid var(--border); border-radius:16px;
  padding:10px; max-width:min(92vw, 720px); max-height:92vh; box-shadow:0 16px 40px rgba(0,0,0,.45);
}
.photo-sheet img{ display:block; max-width:100%; max-height:calc(92vh - 40px); border-radius:12px }
.photo-close{
  position:absolute; top:8px; right:8px; width:36px; height:36px;
  background:#111827; color:#fff; border:1px solid var(--border); border-radius:10px; cursor:pointer;
}

/* ACTION SHEET (long-press) */
.sheet-mini{
  background:var(--card); border:1px solid var(--border); border-radius:16px;
  width:min(360px, 92vw); padding:12px; display:grid; gap:10px;
  box-shadow:0 16px 40px rgba(0,0,0,.45);
}
.sheet-title{ font-weight:700 }
.sheet-actions{ display:flex; gap:10px }
.t-btn.danger{ background:#7a1c1c; border-color:#a43434 }

/* UTIL */
.hidden{ display:none !important }
.section-title{ margin:10px 0 8px; padding:0 2px; font-weight:700; font-size: clamp(16px, 2.1vw, 20px) }
@keyframes spin{ to{ transform:rotate(360deg) } }
@keyframes pop{ from{ transform:translateY(6px) scale(.98); opacity:0 } to{ transform:none; opacity:1 } }

/* RESPONSIVE TWEAKS */
@media (max-width:560px){
  .app-title{ font-size: clamp(18px, 5vw, 20px) }
  .back-btn{ width: 40px; height: 40px; }
  .log-table .col-time{ width: 88px }
}
