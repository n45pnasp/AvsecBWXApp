:root{
  --bg:#0b1220;          /* Background gelap */
  --card:#111827;        /* Warna kartu */
  --muted:#94a3b8;       /* Teks sekunder */
  --text:#e5e7eb;        /* Teks utama */
  --accent:#A855F7;      /* Ungu cerah (primary) */
  --accent-2:#6B21A8;    /* Ungu gelap (hover/active) */
  --danger:#ef4444;      /* Merah untuk error + offline bar */
  --ok:#22c55e;          /* Hijau untuk sukses */
  --radius:18px;
  --shadow:0 6px 16px rgba(0,0,0,.30); /* CHANGED: ringankan shadow */
}

/* Layout responsif & aman notch */
*{box-sizing:border-box}

/* ===== FORCE: Matikan semua ANIMASI (debug/performa) ===== */
*{ animation:none !important; }

html,body{height:100%}
body{
  margin:0; color:var(--text);
  background:linear-gradient(180deg,#0b1220,#0f172a);
  min-height:100dvh; display:grid; place-items:center;
  padding: env(safe-area-inset-top) env(safe-area-inset-right)
           env(safe-area-inset-bottom) env(safe-area-inset-left);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
  -webkit-tap-highlight-color: transparent;
}

.wrap{ width:min(92vw, 540px); padding:clamp(12px,2.5vmin,24px) }

.card{
  background:rgba(17,24,39,.75);
  border:1px solid rgba(148,163,184,.15);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
  /* backdrop-filter: blur(8px); */   /* CHANGED: nonaktifkan blur default */
  animation:pop-in .35s ease-out both;
}

.section{ padding:clamp(18px,4.5vmin,28px); display:none }
.section.active{ display:block; animation:section-in .28s ease-out both }

.title{ margin:0 0 .3rem; font-size:clamp(20px,3.8vw,28px); line-height:1.2 }
.subtitle{ margin:0 0 .6rem; color:var(--muted); font-size:clamp(13px,3.4vw,15px) }

.cta{ margin-top:12px; display:flex; gap:10px }

/* Tombol default (ungu solid) */
.btn{
  width:100%; padding:14px 16px; border-radius:14px; border:1px solid transparent;
  background:var(--accent); color:#fff; font-weight:700; cursor:pointer;
  font-size:clamp(14px,3.6vw,16px);
  transition: transform .12s ease, background .15s ease, opacity .15s ease, box-shadow .15s ease;
  position:relative; overflow:hidden;
}
.btn:hover{ background:var(--accent-2) }
.btn:active{ transform:scale(.98) }
.btn:disabled{ opacity:.6; cursor:not-allowed }

/* Tombol "Kembali" (khusus #backBtn) */
#backBtn{
  background:var(--bg);              /* hitam seperti background */
  color:var(--accent);               /* teks ungu */
  border:2px solid var(--accent);    /* garis ungu */
}
#backBtn:hover{
  background:var(--bg);
  box-shadow: inset 0 0 0 9999px rgba(255,255,255,0.04); /* highlight halus */
  color:var(--accent);
}
#backBtn:active{
  transform:scale(.98);
  background:var(--accent-2);
  border-color:var(--accent-2);
  color:#fff;
}
#backBtn:focus{
  outline:none;
  box-shadow:0 0 0 3px #a855f733;    /* ring ungu transparan */
  border-color:var(--accent);
}

/* Form */
form{ display:grid; gap:12px; margin-top:8px }
label{ font-size:clamp(12px,3.2vw,14px); color:var(--muted) }
input{
  width:100%; padding:14px 14px; border-radius:12px;
  border:1px solid rgba(148,163,184,.25);
  background:#0b1220; color:var(--text); outline:none;
  font-size:clamp(14px,3.6vw,16px);
}
input:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 3px #a855f733;
}

.row{ display:grid; gap:6px }
.hint{ font-size:12px; color:var(--muted); margin-top:8px }

/* Callout */
.callout{
  margin-top:10px; padding:10px 12px; border-radius:12px; display:none;
  border:1px solid transparent; font-size:clamp(12px,3.2vw,14px)
}
.callout.error{ color:#fee2e2; background:#7f1d1d; border-color:#fecaca33 }
.callout.ok{ color:#bbf7d0; background:#14532d; border-color:#22c55e33 }
.callout.show{ display:block }

/* Footer */
.footer{
  padding:12px 16px; text-align:center; font-size:12px; color:var(--muted);
  border-top:1px dashed rgba(148,163,184,.2)
}

/* Lupa Password link */
.link-btn{
  background:none !important;
  border:none !important;
  color:var(--muted);
  font-weight:400 !important; /* normal */
  text-decoration:underline;
  cursor:pointer;
}
.link-btn:hover{ color:var(--accent); }
.forgot-link { text-align: center; }

/* Logo */
.logo-wrap{ display:flex; justify-content:center; margin-bottom:12px }
.logo-wrap img{
  /* Tetap besar (sesuai permintaan sebelumnya), tapi ripple & efek berat dikurangi */
  width:clamp(180px, 50vw, 300px);
  height:clamp(180px, 50vw, 300px);
  object-fit:contain; border-radius:16px; background:#0b1220;
  border:1px solid rgba(148,163,184,.15); padding:10px;
  animation:logo-in .45s ease-out both;
}
.logo-wrap img[data-loading="1"]{
  background: linear-gradient(90deg,#0b1220 0%, #111827 50%, #0b1220 100%);
  background-size:200% 100%; animation:shimmer 1.2s linear infinite;
}

/* Ripple effect (dipakai JS via --x/--y) */
.btn::after{
  content:""; position:absolute; inset:auto; width:0; height:0; border-radius:50%;
  background:#ffffff55; opacity:.0; transform:translate(-50%,-50%);
  pointer-events:none;
}
.btn:active::after{
  left:var(--x,50%); top:var(--y,50%); width:140px; height:140px; /* CHANGED: kecilkan ripple */
  opacity:.25;
  transition:width .35s ease, height .35s ease, opacity .5s ease;
}

/* Password eye */
.password-wrapper{ position:relative }
.password-wrapper input{ padding-right:44px }
.toggle-eye{
  position:absolute; right:10px; top:50%; transform:translateY(-50%);
  cursor:pointer; user-select:none;
  width:32px; height:32px; display:grid; place-items:center;
  border-radius:8px; color:#e5e7eb;
}
.toggle-eye:active{ background:rgba(255,255,255,.06) }

/* Offline sheet (dipakai JS, warna dari vars) */
.net-sheet{
  position:fixed; left:0; right:0; bottom:0; z-index:9999;
  background:var(--danger); color:var(--text);
  border-top:1px solid #ffffff22;
  padding:12px 14px; display:none; gap:10px; align-items:center;
}
.net-sheet.show{ display:flex; animation:slideUp .18s ease-out both }
.net-dot{ width:10px; height:10px; border-radius:50%; background:#ef4444 }
.net-msg{ flex:1; font-size:14px; line-height:1.3 }
.net-act{ display:flex; gap:8px }
.net-btn{
  background:var(--accent);
  color:#fff;
  border:1px solid var(--accent-2);
  padding:8px 10px; border-radius:10px; cursor:pointer
}
.net-btn:hover{ background:var(--accent-2) }
@keyframes slideUp{ from{transform:translateY(8px);opacity:.0} to{transform:none;opacity:1} }

/* Animations */
@keyframes pop-in{ from{ opacity:.0; transform:translateY(8px) scale(.98) } to{ opacity:1; transform:none } }
@keyframes section-in{ from{ opacity:.0; transform:translateY(6px) } to{ opacity:1; transform:none } }
@keyframes logo-in{ from{ opacity:.0; transform:scale(.95) } to{ opacity:1; transform:scale(1) } }
@keyframes shimmer{ 0%{ background-position:0% 0 } 100%{ background-position:200% 0 } }

/* Responsif */
@media (max-height:520px) and (orientation:landscape){
  .section{ padding:16px }
  .logo-wrap{ margin-bottom:8px }
}

/* Reduce motion (global) */
@media (prefers-reduced-motion:reduce){
  *{ animation:none!important; transition:none!important }
}

/* ===== Safety tweaks untuk perangkat high-DPI (contoh: Samsung S23) ===== */
@media (min-resolution: 3dppx) {
  .card{
    backdrop-filter:none !important;   /* CHANGED: pastikan blur mati */
    animation:none !important;         /* CHANGED: hindari animasi awal */
  }
  .section.active{ animation:none !important; } /* CHANGED */
  .logo-wrap img{
    width:clamp(150px, 40vw, 220px) !important; /* CHANGED: batasi max agar tidak terlalu berat */
    height:clamp(150px, 40vw, 220px) !important;
  }
  .btn:active::after{
    width:120px !important; height:120px !important; /* CHANGED: ripple lebih kecil lagi */
  }
}
