<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Random Check</title>
  <link rel="stylesheet" href="random.css" />
  <style>html{visibility:hidden}</style>
</head>
<body>
  <div class="app-bar">
    <a class="back-btn" aria-label="Kembali" href="index.html">
      <svg width="26" height="26" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M15 6L9 12L15 18"></path>
      </svg>
    </a>
    <h1 class="app-title">Random Check</h1>
  </div>

  <main class="container">
    <section class="card">
      <div class="btn-group">
        <button type="button" class="btn" id="btnPSCP">PSCP</button>
        <button type="button" class="btn" id="btnHBSCP">HBSCP</button>
        <button type="button" class="btn" id="btnCARGO">CARGO</button>
      </div>
    </section>

    <!-- Card khusus HBSCP: input suspect bagasi -->
    <section id="bagasiCard" class="card hidden collapsed">
      <button id="bagasiToggle" class="bagasi-nav" type="button" aria-expanded="false">
        <div class="nav-text">
          <span class="nav-label">INPUT SUSPECT HBSCP</span>
          <small class="nav-desc">Mode input suspect bagasi ini dilakukan oleh operator x-ray</small>
        </div>
        <span class="chevron">â–¼</span>
      </button>
      <div id="bagasiContent">
        <button id="scanBagBtn" type="button" class="qr-btn" aria-busy="false">
          <img src="icons/qrcode.png" alt="QR">
          <span>Scan Barcode Bagasi<br><small>Label Bagasi</small></span>
        </button>

        <div id="bagasiResult">
          <div class="bag-owner"><label>Nama Pemilik :</label><span id="bagNama">-</span></div>
          <div class="bag-pair">
            <div><label>No Bagasi :</label><span id="bagNo">-</span></div>
            <div><label>No Flight :</label><span id="bagFlight">-</span></div>
          </div>
          <div class="bag-pair">
            <div><label>Tujuan :</label><span id="bagDest">-</span></div>
            <div><label>Tanggal :</label><span id="bagDate">-</span></div>
          </div>
        </div>

        <div class="card photo-card">
          <button id="bagFotoLayarBtn" type="button" class="btn full">Foto Layar</button>
          <input id="bagFotoLayarInput" type="file" accept="image/*" capture="environment" class="hidden" />
          <img id="bagFotoLayarPreview" class="photo-preview hidden" alt="Foto layar" />
        </div>

        <div class="card photo-card">
          <button id="bagFotoBarangBtn" type="button" class="btn full">Foto Barang</button>
          <input id="bagFotoBarangInput" type="file" accept="image/*" capture="environment" class="hidden" />
          <img id="bagFotoBarangPreview" class="photo-preview hidden" alt="Foto barang" />
        </div>

        <div class="field">
          <label for="bagIndikasi">Indikasi Suspect</label>
          <input id="bagIndikasi" type="text" />
        </div>

        <button id="bagSubmitBtn" type="button" class="btn primary full">Kirim Data Bagasi</button>
      </div>
    </section>

    <section id="bagasiListCard" class="card hidden">
      <div class="table-wrap">
        <table class="log-table">
          <thead>
            <tr><th>No Bagasi</th><th>Flight</th><th>Tujuan</th><th>Dep Time</th></tr>
          </thead>
          <tbody id="bagasiList"></tbody>
        </table>
      </div>
    </section>

    <section class="card">
      <button id="scanBtn" type="button" class="qr-btn" aria-busy="false">
        <img src="icons/qrcode.png" alt="QR">
        <span>Scan Boarding Pass<br><small>Boarding Pass &amp; QR Code</small></span>
      </button>

      <div id="scanResult" class="row-2">
        <div class="field">
          <label>Nama Penumpang</label>
          <div id="namaPenumpang">-</div>
        </div>
        <div class="field">
          <label>No Flight</label>
          <div id="noFlight">-</div>
        </div>
      </div>

      <div id="manualForm" class="hidden">
        <div class="field">
          <label for="manualNama">Nama Penumpang</label>
          <input id="manualNama" type="text" />
        </div>
        <div class="field">
          <label for="manualFlight">No Flight</label>
          <select id="manualFlight">
            <option value="">Pilih Flight</option>
            <option>IU371</option>
            <option>QG701</option>
            <option>ID6591</option>
            <option>HELI IAT</option>
            <option>CHARTER FLIGHT</option>
          </select>
        </div>
      </div>
      <div class="field">
        <label for="jenisPemeriksaan">Pilih Pemeriksaan</label>
        <select id="jenisPemeriksaan">
          <option value="">Pilih</option>
          <option>Manual Check</option>
          <option>Random Check</option>
          <option>ETD</option>
        </select>
      </div>
      <div class="field">
        <label for="objek">Pilih Objek Pemeriksaan</label>
        <select id="objek">
          <option value="">Pilih</option>
          <option value="orang">Orang</option>
          <option value="barang">Barang</option>
        </select>
      </div>
    </section>

    <section id="barangCard" class="card hidden">
      <div class="field">
        <button id="fotoBtn" type="button" class="btn full">Ambil Foto</button>
        <input id="fotoInput" type="file" accept="image/*" capture="environment" class="hidden" />
        <img id="fotoPreview" class="photo-preview hidden" alt="Foto barang" />
      </div>
      <div class="field">
        <label for="isiBarang">Isi Barang</label>
        <input id="isiBarang" type="text" />
      </div>
      <div class="field">
        <label for="tindakanBarang">Tindakan Barang</label>
        <select id="tindakanBarang">
          <option value="">Pilih</option>
          <option>Dibawa</option>
          <option>Ditinggal</option>
        </select>
      </div>
      <div class="field">
        <label for="tipePi">Tipe Prohibited Item</label>
        <select id="tipePi">
          <option value="">Pilih</option>
          <option>Dangerous Goods</option>
          <option>Dangerous Article</option>
        </select>
      </div>
    </section>
    <input id="petugas" type="hidden" />
    <input id="supervisor" type="hidden" />
    <button id="submitBtn" class="btn primary full" type="button">Kirim</button>
  </main>

  <div id="overlay" class="overlay hidden" role="dialog" aria-live="polite" aria-modal="true">
    <div class="sheet" role="document">
      <button id="ovClose" class="icon-x hidden" type="button" aria-label="Tutup">
        <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
          <path d="M6.5 6.5L17.5 17.5M17.5 6.5L6.5 17.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
        </svg>
      </button>
      <div class="icon spinner" id="ovIcon"></div>
      <div class="texts">
        <div class="title" id="ovTitle"></div>
        <div class="desc" id="ovDesc"></div>
      </div>
    </div>
  </div>

  <div id="photoOverlay" class="overlay hidden" role="dialog" aria-modal="true">
    <div class="sheet" role="document">
      <button id="photoClose" class="icon-x" type="button" aria-label="Tutup">
        <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
          <path d="M6.5 6.5L17.5 17.5M17.5 6.5L6.5 17.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
        </svg>
      </button>
      <div id="indikasiText" class="indikasi"></div>
      <div class="photo-wrap">
        <img id="suspectPhoto" alt="Foto suspect" />
        <img id="barangPhoto" alt="Foto barang" />
      </div>
    </div>
  </div>

  <div id="deleteOverlay" class="overlay hidden" role="dialog" aria-modal="true">
    <div class="sheet" role="document">
      <button id="deleteClose" class="icon-x" type="button" aria-label="Batal">
        <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
          <path d="M6.5 6.5L17.5 17.5M17.5 6.5L6.5 17.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
        </svg>
      </button>
      <div class="texts">Anda yakin akan menghapus data suspect?</div>
      <button id="deleteConfirm" type="button" class="btn danger full">Hapus</button>
    </div>
  </div>

  <script type="module" src="random.js"></script>
</body>
</html>
